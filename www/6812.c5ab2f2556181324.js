"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6812],{6812:(R,u,r)=>{r.r(u),r.d(u,{ScanPageModule:()=>w});var C=r(6814),P=r(6223),v=r(3582),f=r(8520),g=r(5861),O=r(2726),l=function(n){return n.Aztec="AZTEC",n.Codabar="CODABAR",n.Code39="CODE_39",n.Code93="CODE_93",n.Code128="CODE_128",n.DataMatrix="DATA_MATRIX",n.Ean8="EAN_8",n.Ean13="EAN_13",n.Itf="ITF",n.Pdf417="PDF_417",n.QrCode="QR_CODE",n.UpcA="UPC_A",n.UpcE="UPC_E",n}(l||{});const c=(0,O.fo)("BarcodeScanner",{web:()=>r.e(7338).then(r.bind(r,7338)).then(n=>new n.BarcodeScannerWeb)});var t=r(2029),D=r(2042),y=r(2425),L=r(7364),m=r(3911),b=r(7913);const x=[{path:"",component:(()=>{var n;class s{constructor(e,o,i,p,d){this.router=e,this.menuService=o,this.toastr=i,this.spinnerService=p,this.translate=d}ionViewDidEnter(){this.initializeScanner()}initializeScanner(){var e=this;return(0,g.Z)(function*(){try{"granted"!==(yield c.checkPermissions()).camera&&(yield c.requestPermissions());const i=document.querySelector(".qr-scanner-wrapper"),p=document.querySelector(".qr-scanner-frame"),d=document.querySelector(".ion-content-scan"),U=document.body;i&&d&&p?(i.classList.add("barcode-scanner-active"),d.classList.add("ion-content-transparent"),U.style.background="transparent",p.classList.remove("display-none")):console.error("qr-scanner-wrapper element not found"),c.startScan({formats:[l.QrCode]}),c.addListener("barcodeScanned",function(){var Z=(0,g.Z)(function*(h){h.barcode&&(e.spinnerService.show(),setTimeout(()=>{e.spinnerService.hide(),e.toastr.success(e.translate.instant("toast.scanned_successfully")),e.router.navigate(["/scan-client",h.barcode.rawValue])},1e3)),yield e.stopScanner()});return function(h){return Z.apply(this,arguments)}}())}catch(o){console.error("Error starting QR Code scanner:",o),e.toastr.error(e.translate.instant("toast.scan_error")),yield e.stopScanner()}})()}stopScanner(){return(0,g.Z)(function*(){const e=document.querySelector(".qr-scanner-wrapper"),o=document.querySelector(".qr-scanner-frame"),i=document.querySelector(".ion-content-scan"),p=document.body;e&&i&&o?(e.classList.remove("barcode-scanner-active"),i.classList.remove("ion-content-transparent"),p.style.removeProperty("background"),o.classList.add("display-none")):console.error("qr-scanner-wrapper element not found"),yield c.stopScan(),yield c.removeAllListeners()})()}ionViewWillLeave(){this.stopScanner()}toggleMenu(){this.menuService.toggleMenu()}goTo(...e){this.router.navigate(e)}}return(n=s).\u0275fac=function(e){return new(e||n)(t.Y36(f.F0),t.Y36(D.h),t.Y36(y._W),t.Y36(L.V),t.Y36(m.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-scan"]],decls:17,vars:3,consts:[[1,"ion-content-scan"],[1,"content-size"],[1,"background-color-dark","padding-wrapper","status-bar-overlap-wrapper","header-index"],[1,"header-section-content"],[1,"header-section-title"],["src","assets/icon/icon-scan-blue.png"],["src","assets/icon/icon-menu.png",1,"header-section-menu","cursor-pointer",3,"click"],[1,"qr-scanner-wrapper"],[1,"qr-scanner-frame","display-none"],[1,"corner","top-left"],[1,"corner","top-right"],[1,"corner","bottom-left"],[1,"corner","bottom-right"],["section","scan"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"img",5),t.TgZ(6,"div"),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"img",6),t.NdJ("click",function(){return o.toggleMenu()}),t.qZA()()(),t.TgZ(10,"div",7)(11,"div",8),t._UZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12),t.qZA()()()(),t._UZ(16,"app-footer",13)),2&e&&(t.xp6(7),t.Oqu(t.lcZ(8,1,"scan")))},dependencies:[v.W2,b.c,m.X$],styles:[".content-size[_ngcontent-%COMP%]{width:100%;min-height:100%}.padding-wrapper[_ngcontent-%COMP%]{padding:20px 16px}.header-section-content[_ngcontent-%COMP%]{position:relative;top:0;left:0;width:100%;display:flex;align-items:center;justify-content:center}.header-section-title[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;justify-content:center}.header-section-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}.header-section-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:600}.header-section-menu[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%);width:22px;display:flex;align-items:center;justify-content:center}.header-index[_ngcontent-%COMP%]{z-index:10;position:relative}.qr-scanner-wrapper[_ngcontent-%COMP%]{width:100%;height:100vh;position:fixed;top:0;left:0}.qr-scanner-frame[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:210px;height:210px;border:1px solid transparent}.corner[_ngcontent-%COMP%]{position:absolute;width:32px;height:32px;background-color:transparent;border:4px solid var(--ion-color-primary)}.top-left[_ngcontent-%COMP%]{top:0;left:0;border-bottom:none;border-right:none}.top-right[_ngcontent-%COMP%]{top:0;right:0;border-bottom:none;border-left:none}.bottom-left[_ngcontent-%COMP%]{bottom:0;left:0;border-top:none;border-right:none}.bottom-right[_ngcontent-%COMP%]{bottom:0;right:0;border-top:none;border-left:none}"]}),s})()}];let M=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.Bz.forChild(x),f.Bz]}),s})();var S=r(822);let w=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.ez,P.u5,v.Pc,M,S.K,m.aw]}),s})()}}]);