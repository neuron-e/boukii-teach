"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7069],{7069:(j,D,c)=>{c.r(D),c.d(D,{ClientDetailPageModule:()=>Le});var u=c(177),$=c(9417),R=c(8974),b=c(3314),p=c(467),P=c(4843),m=c(7586),I=c(9065),E=c(9569),e=c(6996),O=c(5663),T=c(918),w=c(4387),L=c(5794),S=c(8551),k=c(1547),B=c(5567);function Y(i,a){1&i&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"group")," "))}function N(i,a){if(1&i&&(e.qex(0),e.EFF(1),e.bVm()),2&i){const n=e.XpG(2);e.R7$(1),e.SpI(" ",n.getLanguageById(n.clientMonitor.main.language1_id)," \xb7 ")}}function X(i,a){if(1&i&&(e.j41(0,"a",48),e.nrm(1,"img",49),e.j41(2,"span",50),e.EFF(3,"M"),e.k0s()()),2&i){const n=e.XpG(2);e.Y8G("href","tel:"+n.clientMonitor.main.phone,e.B4B)}}function A(i,a){if(1&i&&(e.j41(0,"a",48),e.nrm(1,"img",49),e.j41(2,"span",50),e.EFF(3,"T"),e.k0s()()),2&i){const n=e.XpG(2);e.Y8G("href","tel:"+n.clientMonitor.main.telephone,e.B4B)}}function J(i,a){if(1&i&&(e.j41(0,"a",51),e.nrm(1,"img",52),e.k0s()),2&i){const n=e.XpG(2);e.Y8G("href","mailto:"+n.clientMonitor.main.email,e.B4B)}}function V(i,a){if(1&i&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"a",51),e.EFF(5),e.k0s()()),2&i){const n=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,3,"mobile")),e.R7$(2),e.Y8G("href","tel:"+n.clientMonitor.main.phone,e.B4B),e.R7$(1),e.JRh(n.clientMonitor.main.phone)}}function z(i,a){if(1&i&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"a",51),e.EFF(5),e.k0s()()),2&i){const n=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,3,"telephone")),e.R7$(2),e.Y8G("href","tel:"+n.clientMonitor.main.telephone,e.B4B),e.R7$(1),e.JRh(n.clientMonitor.main.telephone)}}function H(i,a){if(1&i&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"a",51),e.EFF(5),e.k0s()()),2&i){const n=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,3,"email")),e.R7$(2),e.Y8G("href","mailto:"+n.clientMonitor.main.email,e.B4B),e.R7$(1),e.JRh(n.clientMonitor.main.email)}}function U(i,a){if(1&i&&(e.j41(0,"div",53),e.DNE(1,V,6,5,"div",54),e.DNE(2,z,6,5,"div",54),e.DNE(3,H,6,5,"div",54),e.k0s()),2&i){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",n.isPhone(n.clientMonitor.main.phone)),e.R7$(1),e.Y8G("ngIf",n.isPhone(n.clientMonitor.main.telephone)),e.R7$(1),e.Y8G("ngIf",n.clientMonitor.main.email)}}function W(i,a){if(1&i&&(e.j41(0,"div",36)(1,"div",37),e.nrm(2,"img",38),e.k0s(),e.j41(3,"div",39)(4,"div",40)(5,"div",41),e.DNE(6,N,2,1,"ng-container",30),e.EFF(7),e.nI1(8,"translate"),e.k0s()(),e.j41(9,"div",42)(10,"div"),e.EFF(11),e.k0s(),e.nrm(12,"img",43),e.k0s(),e.j41(13,"div",44),e.DNE(14,X,4,1,"a",45),e.DNE(15,A,4,1,"a",45),e.DNE(16,J,2,1,"a",46),e.k0s(),e.DNE(17,U,4,3,"div",47),e.k0s()()),2&i){const n=e.XpG();e.R7$(2),e.Y8G("src",n.clientMonitor.main.image?n.clientMonitor.main.image:"assets/icon/icons-outline-default-avatar.svg",e.B4B),e.R7$(4),e.Y8G("ngIf",n.clientMonitor.main.language1_id),e.R7$(1),e.E5c(" ",n.getCountryById(n.clientMonitor.main.country)," \xb7 ",n.getBirthYears(n.clientMonitor.main.birth_date)," ",e.bMT(8,11,"years")," "),e.R7$(4),e.Lme("",n.clientMonitor.main.first_name," ",n.clientMonitor.main.last_name,""),e.R7$(3),e.Y8G("ngIf",n.isPhone(n.clientMonitor.main.phone)),e.R7$(1),e.Y8G("ngIf",n.isPhone(n.clientMonitor.main.telephone)),e.R7$(1),e.Y8G("ngIf",n.clientMonitor.main.email),e.R7$(1),e.Y8G("ngIf",n.clientMonitor.main.phone||n.clientMonitor.main.telephone||n.clientMonitor.main.email)}}function K(i,a){if(1&i&&(e.qex(0),e.EFF(1),e.bVm()),2&i){const n=e.XpG(2);e.R7$(1),e.SpI(" ",n.getLanguageById(n.clientMonitor.language1_id)," \xb7 ")}}function Q(i,a){if(1&i&&(e.j41(0,"a",48),e.nrm(1,"img",49),e.j41(2,"span",50),e.EFF(3,"M"),e.k0s()()),2&i){const n=e.XpG(2);e.Y8G("href","tel:"+n.clientMonitor.phone,e.B4B)}}function Z(i,a){if(1&i&&(e.j41(0,"a",48),e.nrm(1,"img",49),e.j41(2,"span",50),e.EFF(3,"T"),e.k0s()()),2&i){const n=e.XpG(2);e.Y8G("href","tel:"+n.clientMonitor.telephone,e.B4B)}}function q(i,a){if(1&i&&(e.j41(0,"a",51),e.nrm(1,"img",52),e.k0s()),2&i){const n=e.XpG(2);e.Y8G("href","mailto:"+n.clientMonitor.email,e.B4B)}}function ee(i,a){if(1&i&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"a",51),e.EFF(5),e.k0s()()),2&i){const n=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,3,"mobile")),e.R7$(2),e.Y8G("href","tel:"+n.clientMonitor.phone,e.B4B),e.R7$(1),e.JRh(n.clientMonitor.phone)}}function te(i,a){if(1&i&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"a",51),e.EFF(5),e.k0s()()),2&i){const n=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,3,"telephone")),e.R7$(2),e.Y8G("href","tel:"+n.clientMonitor.telephone,e.B4B),e.R7$(1),e.JRh(n.clientMonitor.telephone)}}function ne(i,a){if(1&i&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"a",51),e.EFF(5),e.k0s()()),2&i){const n=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,3,"email")),e.R7$(2),e.Y8G("href","mailto:"+n.clientMonitor.email,e.B4B),e.R7$(1),e.JRh(n.clientMonitor.email)}}function ie(i,a){if(1&i&&(e.j41(0,"div",53),e.DNE(1,ee,6,5,"div",54),e.DNE(2,te,6,5,"div",54),e.DNE(3,ne,6,5,"div",54),e.k0s()),2&i){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",n.isPhone(n.clientMonitor.phone)),e.R7$(1),e.Y8G("ngIf",n.isPhone(n.clientMonitor.telephone)),e.R7$(1),e.Y8G("ngIf",n.clientMonitor.email)}}function oe(i,a){if(1&i&&(e.j41(0,"div",36)(1,"div",37),e.nrm(2,"img",38),e.k0s(),e.j41(3,"div",39)(4,"div",40)(5,"div",41),e.DNE(6,K,2,1,"ng-container",30),e.EFF(7),e.k0s()(),e.j41(8,"div",42)(9,"div"),e.EFF(10),e.k0s()(),e.j41(11,"div",44),e.DNE(12,Q,4,1,"a",45),e.DNE(13,Z,4,1,"a",45),e.DNE(14,q,2,1,"a",46),e.k0s(),e.DNE(15,ie,4,3,"div",47),e.k0s()()),2&i){const n=e.XpG();e.R7$(2),e.Y8G("src",n.clientMonitor.image?n.clientMonitor.image:"assets/icon/icons-outline-default-avatar.svg",e.B4B),e.R7$(4),e.Y8G("ngIf",n.clientMonitor.language1_id),e.R7$(1),e.Lme(" ",n.getCountryById(n.clientMonitor.country)," \xb7 ",n.clientMonitor.birth_years," ans "),e.R7$(3),e.Lme("",n.clientMonitor.first_name," ",n.clientMonitor.last_name,""),e.R7$(2),e.Y8G("ngIf",n.isPhone(n.clientMonitor.phone)),e.R7$(1),e.Y8G("ngIf",n.isPhone(n.clientMonitor.telephone)),e.R7$(1),e.Y8G("ngIf",n.clientMonitor.email),e.R7$(1),e.Y8G("ngIf",n.clientMonitor.phone||n.clientMonitor.telephone||n.clientMonitor.email)}}function le(i,a){if(1&i&&(e.qex(0),e.EFF(1),e.bVm()),2&i){const n=e.XpG(2);e.R7$(1),e.SpI(" ",n.getLanguageById(n.clientMonitor.language1_id)," \xb7 ")}}function ae(i,a){if(1&i&&(e.j41(0,"a",48),e.nrm(1,"img",49),e.j41(2,"span",50),e.EFF(3,"M"),e.k0s()()),2&i){const n=e.XpG(2);e.Y8G("href","tel:"+n.clientMonitor.phone,e.B4B)}}function re(i,a){if(1&i&&(e.j41(0,"a",48),e.nrm(1,"img",49),e.j41(2,"span",50),e.EFF(3,"T"),e.k0s()()),2&i){const n=e.XpG(2);e.Y8G("href","tel:"+n.clientMonitor.telephone,e.B4B)}}function se(i,a){if(1&i&&(e.j41(0,"a",51),e.nrm(1,"img",52),e.k0s()),2&i){const n=e.XpG(2);e.Y8G("href","mailto:"+n.clientMonitor.email,e.B4B)}}function ce(i,a){if(1&i&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"a",51),e.EFF(5),e.k0s()()),2&i){const n=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,3,"mobile")),e.R7$(2),e.Y8G("href","tel:"+n.clientMonitor.phone,e.B4B),e.R7$(1),e.JRh(n.clientMonitor.phone)}}function de(i,a){if(1&i&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"a",51),e.EFF(5),e.k0s()()),2&i){const n=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,3,"telephone")),e.R7$(2),e.Y8G("href","tel:"+n.clientMonitor.telephone,e.B4B),e.R7$(1),e.JRh(n.clientMonitor.telephone)}}function ge(i,a){if(1&i&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"a",51),e.EFF(5),e.k0s()()),2&i){const n=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,3,"email")),e.R7$(2),e.Y8G("href","mailto:"+n.clientMonitor.email,e.B4B),e.R7$(1),e.JRh(n.clientMonitor.email)}}function pe(i,a){if(1&i&&(e.j41(0,"div",53),e.DNE(1,ce,6,5,"div",54),e.DNE(2,de,6,5,"div",54),e.DNE(3,ge,6,5,"div",54),e.k0s()),2&i){const n=e.XpG(2);e.R7$(1),e.Y8G("ngIf",n.isPhone(n.clientMonitor.phone)),e.R7$(1),e.Y8G("ngIf",n.isPhone(n.clientMonitor.telephone)),e.R7$(1),e.Y8G("ngIf",n.clientMonitor.email)}}function he(i,a){if(1&i&&(e.j41(0,"div",57)(1,"div",37),e.nrm(2,"img",38),e.k0s(),e.j41(3,"div",39)(4,"div",40)(5,"div",41),e.DNE(6,le,2,1,"ng-container",30),e.EFF(7),e.k0s()(),e.j41(8,"div",42)(9,"div"),e.EFF(10),e.k0s()(),e.j41(11,"div",44),e.DNE(12,ae,4,1,"a",45),e.DNE(13,re,4,1,"a",45),e.DNE(14,se,2,1,"a",46),e.k0s(),e.DNE(15,pe,4,3,"div",47),e.k0s()()),2&i){const n=e.XpG();e.R7$(2),e.Y8G("src",n.clientMonitor.image?n.clientMonitor.image:"assets/icon/icons-outline-default-avatar.svg",e.B4B),e.R7$(4),e.Y8G("ngIf",n.clientMonitor.language1_id),e.R7$(1),e.Lme(" ",n.getCountryById(n.clientMonitor.country)," \xb7 ",n.clientMonitor.birth_years," ans "),e.R7$(3),e.Lme("",n.clientMonitor.first_name," ",n.clientMonitor.last_name,""),e.R7$(2),e.Y8G("ngIf",n.isPhone(n.clientMonitor.phone)),e.R7$(1),e.Y8G("ngIf",n.isPhone(n.clientMonitor.telephone)),e.R7$(1),e.Y8G("ngIf",n.clientMonitor.email),e.R7$(1),e.Y8G("ngIf",n.clientMonitor.phone||n.clientMonitor.telephone||n.clientMonitor.email)}}const ve=function(i){return{"opacity-light":i}};function _e(i,a){if(1&i){const n=e.RV6();e.j41(0,"div",60),e.bIt("click",function(){const l=e.eBV(n).index,s=e.XpG(2);return e.Njj(s.changeSport(l))}),e.nrm(1,"img",38),e.j41(2,"div",61),e.EFF(3),e.k0s()()}if(2&i){const n=a.$implicit;e.Y8G("ngClass",e.eq3(3,ve,!n.selected)),e.R7$(1),e.Y8G("src",n.selected?n.icon_selected:n.icon_unselected,e.B4B),e.R7$(2),e.JRh(n.name)}}function ue(i,a){if(1&i&&(e.j41(0,"div",58),e.DNE(1,_e,4,5,"div",59),e.k0s()),2&i){const n=e.XpG();e.R7$(1),e.Y8G("ngForOf",n.clientMonitor.sports)}}function me(i,a){if(1&i){const n=e.RV6();e.j41(0,"app-level-full",62),e.bIt("levelSelected",function(o){e.eBV(n);const l=e.XpG();return e.Njj(l.onLevelSelected(o))}),e.k0s()}if(2&i){const n=e.XpG();e.Y8G("allLevels",n.sportDegrees)("selectLevel",n.selectedLevelId)("size",280)}}function fe(i,a){if(1&i&&(e.j41(0,"div",63),e.EFF(1),e.k0s()),2&i){const n=e.XpG();e.R7$(1),e.SpI(" ",n.currentObservation.general," ")}}function xe(i,a){if(1&i&&(e.qex(0),e.j41(1,"div",64),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",63),e.EFF(5),e.k0s(),e.bVm()),2&i){const n=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"school_notes")),e.R7$(3),e.SpI(" ",n.currentObservation.notes," ")}}function be(i,a){if(1&i&&(e.j41(0,"div",66)(1,"span",67),e.EFF(2),e.k0s(),e.EFF(3),e.k0s()),2&i){const n=a.$implicit;e.R7$(2),e.SpI("",(null==n.degree?null:n.degree.name)||"Nivel",":"),e.R7$(1),e.SpI(" ",n.observations," ")}}function Me(i,a){if(1&i&&(e.qex(0),e.j41(1,"div",64),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,be,4,2,"div",65),e.bVm()),2&i){const n=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"evaluation_observations")),e.R7$(2),e.Y8G("ngForOf",n.getEvaluationsForCurrentSport())}}function Ce(i,a){1&i&&(e.j41(0,"div",68),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"loading")," "))}function Pe(i,a){1&i&&(e.j41(0,"div",68),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"no_comments")," "))}function ye(i,a){if(1&i&&(e.j41(0,"div",71)(1,"div",72),e.EFF(2),e.k0s(),e.j41(3,"div",73)(4,"span",74),e.EFF(5),e.k0s(),e.j41(6,"span"),e.EFF(7),e.nI1(8,"date"),e.k0s()()()),2&i){const n=a.$implicit,t=e.XpG(2);e.R7$(2),e.JRh(n.comment),e.R7$(3),e.JRh(t.getCommentAuthor(n)),e.R7$(2),e.JRh(e.i5U(8,3,n.created_at,"short"))}}function De(i,a){if(1&i){const n=e.RV6();e.j41(0,"button",75),e.bIt("click",function(){e.eBV(n);const o=e.XpG(2);return e.Njj(o.toggleCommentsView())}),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"translate"),e.k0s()}if(2&i){const n=e.XpG(2);e.R7$(1),e.SpI(" ",n.showAllComments?e.bMT(2,1,"show_less"):e.bMT(3,3,"view_more")," ")}}function Re(i,a){if(1&i&&(e.qex(0),e.DNE(1,Pe,3,3,"div",32),e.DNE(2,ye,9,6,"div",69),e.DNE(3,De,4,5,"button",70),e.bVm()),2&i){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",0===n.getVisibleComments().length),e.R7$(1),e.Y8G("ngForOf",n.getVisibleComments()),e.R7$(1),e.Y8G("ngIf",n.evaluationComments.length>n.commentsPreviewLimit)}}function Ie(i,a){if(1&i&&(e.j41(0,"div",63),e.EFF(1),e.k0s()),2&i){const n=e.XpG();e.R7$(1),e.SpI(" ",n.clientMonitor.observations.historical," ")}}function Ee(i,a){1&i&&(e.j41(0,"div",68),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"loading")," "))}function Fe(i,a){1&i&&(e.j41(0,"div",68),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"history_no_changes")," "))}function $e(i,a){if(1&i&&(e.j41(0,"div",81),e.EFF(1),e.k0s()),2&i){const n=e.XpG().$implicit,t=e.XpG(2);e.R7$(1),e.SpI(" ",t.getHistorySummary(n)," ")}}function ke(i,a){if(1&i&&(e.j41(0,"div",77)(1,"div",78),e.EFF(2),e.k0s(),e.j41(3,"div",79),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.DNE(6,$e,2,1,"div",80),e.k0s()),2&i){const n=a.$implicit,t=e.XpG(2);e.R7$(2),e.JRh(t.getHistoryTitle(n)),e.R7$(2),e.Lme(" ",t.getHistoryUserLabel(n)," \xb7 ",e.i5U(5,4,n.created_at,"short")," "),e.R7$(2),e.Y8G("ngIf",t.getHistorySummary(n))}}function Ge(i,a){if(1&i){const n=e.RV6();e.j41(0,"button",75),e.bIt("click",function(){e.eBV(n);const o=e.XpG(2);return e.Njj(o.toggleHistoryView())}),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"translate"),e.k0s()}if(2&i){const n=e.XpG(2);e.R7$(1),e.SpI(" ",n.showAllHistory?e.bMT(2,1,"show_less"):e.bMT(3,3,"view_more")," ")}}function je(i,a){if(1&i&&(e.qex(0),e.DNE(1,Fe,3,3,"div",32),e.DNE(2,ke,7,7,"div",76),e.DNE(3,Ge,4,5,"button",70),e.bVm()),2&i){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",0===n.getVisibleHistory().length),e.R7$(1),e.Y8G("ngForOf",n.getVisibleHistory()),e.R7$(1),e.Y8G("ngIf",n.evaluationHistory.length>n.historyPreviewLimit)}}const Oe=[{path:"",component:(()=>{var i;class a{constructor(t,o,l,s,d,g,r,_){this.router=t,this.activatedRoute=o,this.monitorDataService=l,this.sharedDataService=s,this.teachService=d,this.toastr=g,this.spinnerService=r,this.translate=_,this.showGeneral=!0,this.showSports=!1,this.showWinter=!0,this.showSummer=!1,this.showOther=!1,this.showLevel=!1,this.dataSports=[{id:1,name:"Ski",image:"assets/icon/icons-outline-disciplinas-1.svg",checked:!1},{id:2,name:"Snowboard",image:"assets/icon/icons-outline-disciplinas-2.svg",checked:!1},{id:3,name:"Telemark",image:"assets/icon/icons-outline-disciplinas-3.svg",checked:!1},{id:4,name:"S.Rando",image:"assets/icon/icons-outline-disciplinas-4.svg",checked:!1}],this.currentLevel=0,this.degrees=[],this.sportDegrees=[],this.sports=[],this.languages=[],this.clientEvaluations=[],this.currentObservation=null,this.selectedLevelId=null,this.evaluationComments=[],this.evaluationHistory=[],this.commentsLoading=!1,this.historyLoading=!1,this.showAllComments=!1,this.showAllHistory=!1,this.commentsPreviewLimit=3,this.historyPreviewLimit=3}ngOnInit(){var t=this;return(0,p.A)(function*(){t.subscription=t.monitorDataService.getMonitorData().subscribe(function(){var o=(0,p.A)(function*(l){if(l){t.monitorData=l;try{t.degrees=yield(0,P._)(t.sharedDataService.fetchDegrees(t.monitorData.active_school)),t.sports=yield(0,P._)(t.sharedDataService.fetchSports(t.monitorData.active_school)),t.languages=yield(0,P._)(t.sharedDataService.fetchLanguages()),console.log("Client-detail loaded degrees:",t.degrees.length),console.log("Client-detail loaded sports:",t.sports.length)}catch(s){console.error("Error fetching data:",s),t.toastr.error(t.translate.instant("toast.error_loading_data")),t.degrees=[],t.sports=[],t.languages=[]}t.activatedRoute.params.subscribe(function(){var s=(0,p.A)(function*(d){t.clientId=+d.id,t.clientId?(t.spinnerService.show(),yield t.getClient(),t.spinnerService.hide()):t.goTo("clients")});return function(d){return s.apply(this,arguments)}}())}});return function(l){return o.apply(this,arguments)}}())})()}getLanguageById(t){const o=this.languages.find(l=>l.id===t);return o?o.code.toUpperCase():""}getCountryById(t){const o=I.k.find(l=>l.id===t);return o?o.iso:"Aucun"}getProvinceById(t){const o=E.R.find(l=>l.id===t);return o?o.name:"Aucune"}getClient(){var t=this;return(0,p.A)(function*(){try{var o;const r=(yield t.teachService.getData("teach/clients",t.clientId,{"with[]":["main","sports","clientSports","clientSports.degree","clientSports.sport","observations"],school_id:null===(o=t.monitorData)||void 0===o?void 0:o.active_school}).toPromise()).data;if(r){var l,s,d;const _=m(r.birth_date);r.birth_years=m().diff(_,"years"),t.buildClientSports(r),t.clientMonitor=r;const h=t.clientMonitor.sports&&t.clientMonitor.sports.length?t.clientMonitor.sports.find(v=>v.selected)||t.clientMonitor.sports[0]:null;t.sportSelected=null!==(l=null==h?void 0:h.id)&&void 0!==l?l:null,console.log("Available degrees:",t.degrees),console.log("Selected sport:",t.sportSelected),t.sportDegrees=t.degrees&&t.degrees.length>0&&t.sportSelected?t.degrees.filter(v=>v.sport_id===t.sportSelected):[],console.log("Filtered sport degrees:",t.sportDegrees),t.filterObservationsBySchool(),yield t.getClientEvaluations(),t.setSelectedLevel((null===(s=t.clientMonitor)||void 0===s?void 0:s.degree_sport)||(null===(d=t.sportDegrees[0])||void 0===d?void 0:d.id)||null)}else t.goTo("clients")}catch(g){console.error("There was an error fetching clients!",g)}})()}buildClientSports(t){var o,l;const s=Array.isArray(this.sports)?this.sports:[];let d=[];Array.isArray(null==t?void 0:t.sports)&&t.sports.length?d=t.sports:Array.isArray(null==t?void 0:t.client_sports)&&t.client_sports.length&&(d=t.client_sports.map(r=>{var _,h,v,f,x;const M=r.sport||s.find(y=>y.id===r.sport_id)||{},C=null!==(_=null!==(h=r.sport_id)&&void 0!==h?h:M.id)&&void 0!==_?_:r.id;return{...M,...r,id:C,sport_id:C,pivot:{...r.pivot||{},degree_id:null!==(v=null!==(f=null===(x=r.pivot)||void 0===x?void 0:x.degree_id)&&void 0!==f?f:r.degree_id)&&void 0!==v?v:null}}}));const g=d.map((r,_)=>{var h,v,f,x,M,C,y;const G=null!==(h=r.id)&&void 0!==h?h:r.sport_id,F=s.find(Be=>Be.id===G)||{},Se=null!==(v=null!==(f=null===(x=r.pivot)||void 0===x?void 0:x.degree_id)&&void 0!==f?f:r.degree_id)&&void 0!==v?v:null;return{...F,...r,id:G,sport_id:G,name:null!==(M=r.name)&&void 0!==M?M:F.name,icon_selected:null!==(C=r.icon_selected)&&void 0!==C?C:F.icon_selected,icon_unselected:null!==(y=r.icon_unselected)&&void 0!==y?y:F.icon_unselected,selected:0===_,pivot:{...r.pivot||{},degree_id:Se}}});t.sports=g,t.degree_sport=null!==(o=null===(l=g[0])||void 0===l||null===(l=l.pivot)||void 0===l?void 0:l.degree_id)&&void 0!==o?o:0}filterObservationsBySchool(){this.clientMonitor&&this.clientMonitor.observations&&this.monitorData&&(this.currentObservation=this.clientMonitor.observations.find(t=>t.school_id===this.monitorData.active_school),this.currentObservation||(this.currentObservation={general:"",notes:"",historical:""}),console.log("CLIENT DETAIL DEBUG: Current observation for school:",this.currentObservation))}getClientEvaluations(){var t=this;return(0,p.A)(function*(){try{const o=yield t.teachService.getData("evaluations",null,{client_id:t.clientId}).toPromise();t.clientEvaluations=o.data,console.log("CLIENT DETAIL DEBUG: Loaded evaluations:",t.clientEvaluations),yield t.loadEvaluationSummary()}catch(o){console.error("CLIENT DETAIL DEBUG: Error loading evaluations:",o),t.clientEvaluations=[]}})()}getEvaluationsForCurrentSport(){if(!this.clientEvaluations||!this.sportSelected)return[];const t=this.sportDegrees.map(o=>o.id);return this.clientEvaluations.filter(o=>t.includes(o.degree_id)&&o.observations).sort((o,l)=>l.id-o.id)}getEvaluationForSelectedLevel(){if(!this.selectedLevelId)return null;const t=(this.clientEvaluations||[]).filter(o=>o.degree_id===this.selectedLevelId);return t.length?t.sort((o,l)=>l.id-o.id)[0]:null}getVisibleComments(){return this.showAllComments?this.evaluationComments:this.evaluationComments.slice(0,this.commentsPreviewLimit)}getVisibleHistory(){return this.showAllHistory?this.evaluationHistory:this.evaluationHistory.slice(0,this.historyPreviewLimit)}toggleCommentsView(){this.showAllComments=!this.showAllComments}toggleHistoryView(){this.showAllHistory=!this.showAllHistory}getCommentAuthor(t){const o=null==t?void 0:t.monitor;if(o){const l=[o.first_name,o.last_name].filter(Boolean).join(" ").trim()||o.name||o.email||"",s=this.translate.instant("history_role_monitor");if(l)return`${l} (${s})`}return this.getUserDisplayLabel(null==t?void 0:t.user)}getHistoryUserLabel(t){const o=null==t?void 0:t.monitor;if(o){const l=[o.first_name,o.last_name].filter(Boolean).join(" ").trim()||o.name||o.email||"",s=this.translate.instant("history_role_monitor");if(l)return`${l} (${s})`}return this.getUserDisplayLabel(null==t?void 0:t.user)}getHistoryTitle(t){switch(null==t?void 0:t.type){case"goal_created":return this.translate.instant("history_change_goal_created");case"goal_updated":return this.translate.instant("history_change_goal_updated");case"goal_deleted":return this.translate.instant("history_change_goal_deleted");case"observation_updated":return this.translate.instant("history_change_observation_updated");case"comment_added":return this.translate.instant("history_change_comment_added");case"file_added":return this.translate.instant("history_change_file_added");case"file_deleted":return this.translate.instant("history_change_file_deleted");default:return this.translate.instant("history_change_generic")}}getHistorySummary(t){const o=(null==t?void 0:t.payload)||{};return o.comment?o.comment:o.file?o.file.split("/").pop()||o.file:o.new?o.new:void 0!==o.score?`${this.translate.instant("history_change_status_label")}: ${this.getScoreLabel(o.score)}`:""}getScoreLabel(t){return this.translate.instant(t>=10?"achieved":t>=5?"to_improve":"not_started")}setSelectedLevel(t){this.selectedLevelId=t,this.showAllComments=!1,this.showAllHistory=!1,this.loadEvaluationSummary()}resetToCurrentLevel(){var t;const o=(null===(t=this.clientMonitor)||void 0===t?void 0:t.degree_sport)||null;o&&this.setSelectedLevel(o)}onLevelSelected(t){this.setSelectedLevel(t)}getLevelNameById(t){if(!t)return"-";const o=this.sportDegrees.find(l=>l.id===t);return(null==o?void 0:o.name)||"-"}getPreviousLevelName(){var t,o;if(null===(t=this.sportDegrees)||void 0===t||!t.length||!this.selectedLevelId)return"-";const l=this.sportDegrees.findIndex(s=>s.id===this.selectedLevelId);return l>0&&(null===(o=this.sportDegrees[l-1])||void 0===o?void 0:o.name)||"-"}getNextLevelName(){var t;if(null===(t=this.sportDegrees)||void 0===t||!t.length||!this.selectedLevelId)return"-";const o=this.sportDegrees.findIndex(s=>s.id===this.selectedLevelId);var l;return o>=0&&this.sportDegrees[o+1]&&(null===(l=this.sportDegrees[o+1])||void 0===l?void 0:l.name)||"-"}isPhone(t){if(!t)return!1;const o=String(t);return/[0-9]/.test(o)&&!o.includes("@")}loadEvaluationSummary(){var t=this;return(0,p.A)(function*(){const o=t.getEvaluationForSelectedLevel();if(null==o||!o.id)return t.evaluationComments=[],void(t.evaluationHistory=[]);yield Promise.all([t.loadEvaluationComments(o.id),t.loadEvaluationHistory(o.id)])})()}loadEvaluationComments(t){var o=this;return(0,p.A)(function*(){if(t&&!o.commentsLoading){o.commentsLoading=!0;try{const l=yield o.teachService.getData(`teach/evaluations/${t}/comments`,null,{limit:200}).toPromise();o.evaluationComments=(null==l?void 0:l.data)||[]}catch(l){console.error("Error loading evaluation comments:",l),o.evaluationComments=[]}finally{o.commentsLoading=!1}}})()}loadEvaluationHistory(t){var o=this;return(0,p.A)(function*(){if(t&&!o.historyLoading){o.historyLoading=!0;try{const l=yield o.teachService.getData(`teach/evaluations/${t}/history`,null,{limit:200}).toPromise();o.evaluationHistory=(null==l?void 0:l.data)||[]}catch(l){console.error("Error loading evaluation history:",l),o.evaluationHistory=[]}finally{o.historyLoading=!1}}})()}changeSport(t){var o,l,s;let d=0;const g=null!==(o=this.clientMonitor)&&void 0!==o&&o.sports?this.clientMonitor.sports[t]:null;g&&(this.clientMonitor.sports.forEach(r=>{r.selected=!1}),g.selected=!0,null!==(l=g.pivot)&&void 0!==l&&l.degree_id&&(d=g.pivot.degree_id),this.sportSelected=g.id,this.clientMonitor.degree_sport=d,this.sportDegrees=this.degrees&&this.degrees.length>0?this.degrees.filter(r=>r.sport_id===g.id):[],console.log("Sport Degrees after change:",this.sportDegrees),this.setSelectedLevel(this.clientMonitor.degree_sport||(null===(s=this.sportDegrees[0])||void 0===s?void 0:s.id)||null))}getBirthYears(t){const o=m(t);return m().diff(o,"years")}doShowLevel(t){this.selectedSport=t,this.currentLevel=t.level?t.level:0,this.showLevel=!0}updateLevel(){this.selectedSport.level=this.currentLevel,this.currentLevel=0,this.showLevel=!1}getUserDisplayLabel(t){if(!t)return this.translate.instant("history_change_system");const o=[t.first_name,t.last_name].filter(Boolean).join(" ").trim()||t.name||t.username||t.email||"",l=this.getUserRoleLabel(t);return o&&l?`${o} (${l})`:o||l||this.translate.instant("history_change_system")}getUserRoleLabel(t){const o=null==t?void 0:t.type;return 1===o||"admin"===o?this.translate.instant("history_role_admin"):3===o||"monitor"===o?this.translate.instant("history_role_monitor"):null}goTo(...t){this.router.navigate(t)}goToClientLevelSelected(){var t;this.router.navigate(["client-level","client","1","1",this.clientId,this.sportSelected],{queryParams:{levelId:null!==(t=this.selectedLevelId)&&void 0!==t?t:null}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(b.Ix),e.rXU(b.nX),e.rXU(O.O),e.rXU(T.H),e.rXU(w.R),e.rXU(L.tw),e.rXU(S.D),e.rXU(k.c$))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-client-detail"]],decls:68,vars:41,consts:[[1,"content-size","content-background-image","status-bar-overlap"],[1,"background-color-dark","padding-wrapper"],[1,"header-content","mb-12"],["src","assets/icon/arrow-left.svg",1,"cursor-pointer","header-content-icon",3,"click"],["class","header-top-title",4,"ngIf"],["class","header-user-data mt-24",4,"ngIf"],[1,"padding-wrapper"],[1,"background-color-dark","box-radius"],["class","header-user-data padding-wrapper",4,"ngIf"],[1,"box-top"],["class","box-top-left",4,"ngIf"],[1,"pt-24"],["class","cursor-pointer",3,"allLevels","selectLevel","size","levelSelected",4,"ngIf"],[1,"padding-wrapper","mt-8"],[1,"level-current-banner","background-color-dark","mb-12","level-current-clickable",3,"click"],[1,"level-current-label"],[1,"level-current-value"],[1,"level-meta","mb-16"],[1,"level-meta-item","level-meta-left"],[1,"level-meta-label"],[1,"level-meta-value"],[1,"level-meta-item","level-meta-right"],[1,"content-button","btn-back-primary","montserrat","level-cta",3,"click"],[1,"flex-title-selector","mt-32","mb-8","cursor-pointer"],[1,"flex-title-selector-interior"],[1,"background-color-dark","flex-title-selector-icon"],["src","assets/icon/icon-observations.png"],[1,"flex-title-selector-text"],[1,"background-color-dark","box-radius","box-observations"],["class","montserrat color-light text-observations",4,"ngIf"],[4,"ngIf"],[1,"mt-12","pt-8","pb-8","title-observations"],["class","mini-empty",4,"ngIf"],["src","assets/icon/icon-historic.png"],[1,"background-color-dark","box-radius","box-observations","mb-24"],[1,"header-top-title"],[1,"header-user-data","mt-24"],[1,"header-user-data-img"],[3,"src"],[1,"header-user-data-text"],[1,"header-user-data-text-top"],[1,"color-light"],[1,"header-user-data-text-title"],["src","assets/icon/icon-crown.png"],[1,"header-user-data-text-icons"],["class","icon-with-label",3,"href",4,"ngIf"],[3,"href",4,"ngIf"],["class","header-user-data-text-contacts",4,"ngIf"],[1,"icon-with-label",3,"href"],["src","assets/icon/icon-phone-box.png",1,"cursor-pointer"],[1,"icon-label"],[3,"href"],["src","assets/icon/icon-mail-box.png",1,"cursor-pointer"],[1,"header-user-data-text-contacts"],["class","header-user-data-text-contact",4,"ngIf"],[1,"header-user-data-text-contact"],[1,"header-user-data-text-contact-label"],[1,"header-user-data","padding-wrapper"],[1,"box-top-left"],["class","box-top-icon cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"box-top-icon","cursor-pointer",3,"ngClass","click"],[1,"montserrat"],[1,"cursor-pointer",3,"allLevels","selectLevel","size","levelSelected"],[1,"montserrat","color-light","text-observations"],[1,"montserrat","mt-12","pt-8","pb-8","title-observations"],["class","montserrat color-light text-observations mb-8",4,"ngFor","ngForOf"],[1,"montserrat","color-light","text-observations","mb-8"],[2,"font-weight","600"],[1,"mini-empty"],["class","comment-mini",4,"ngFor","ngForOf"],["class","mini-toggle",3,"click",4,"ngIf"],[1,"comment-mini"],[1,"comment-mini-text"],[1,"comment-mini-meta"],[1,"comment-mini-author"],[1,"mini-toggle",3,"click"],["class","history-mini",4,"ngFor","ngForOf"],[1,"history-mini"],[1,"history-mini-title"],[1,"history-mini-meta"],["class","history-mini-detail",4,"ngIf"],[1,"history-mini-detail"]],template:function(t,o){1&t&&(e.j41(0,"ion-content")(1,"div",0)(2,"div",1)(3,"div",2)(4,"img",3),e.bIt("click",function(){return o.goTo("clients")}),e.k0s(),e.DNE(5,Y,3,3,"div",4),e.k0s(),e.DNE(6,W,18,13,"div",5),e.DNE(7,oe,16,10,"div",5),e.k0s(),e.j41(8,"div",6)(9,"div",7),e.DNE(10,he,16,10,"div",8),e.j41(11,"div",9),e.DNE(12,ue,2,1,"div",10),e.k0s(),e.j41(13,"div",11),e.DNE(14,me,1,3,"app-level-full",12),e.j41(15,"div",13)(16,"div",14),e.bIt("click",function(){return o.resetToCurrentLevel()}),e.j41(17,"div",15),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"div",16),e.EFF(21),e.k0s()(),e.j41(22,"div",17)(23,"div",18)(24,"span",19),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"span",20),e.EFF(28),e.k0s()(),e.j41(29,"div",21)(30,"span",19),e.EFF(31),e.nI1(32,"translate"),e.k0s(),e.j41(33,"span",20),e.EFF(34),e.k0s()()(),e.j41(35,"button",22),e.bIt("click",function(){return o.goToClientLevelSelected()}),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()(),e.j41(38,"div",23)(39,"div",24)(40,"div",25),e.nrm(41,"img",26),e.k0s(),e.j41(42,"div",27),e.EFF(43),e.nI1(44,"translate"),e.k0s()()(),e.j41(45,"div",28),e.DNE(46,fe,2,1,"div",29),e.DNE(47,xe,6,4,"ng-container",30),e.DNE(48,Me,5,4,"ng-container",30),e.j41(49,"div",31),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.DNE(52,Ce,3,3,"div",32),e.DNE(53,Re,4,3,"ng-container",30),e.k0s(),e.j41(54,"div",23)(55,"div",24)(56,"div",25),e.nrm(57,"img",33),e.k0s(),e.j41(58,"div",27),e.EFF(59),e.nI1(60,"translate"),e.k0s()()(),e.j41(61,"div",34),e.DNE(62,Ie,2,1,"div",29),e.j41(63,"div",31),e.EFF(64),e.nI1(65,"translate"),e.k0s(),e.DNE(66,Ee,3,3,"div",32),e.DNE(67,je,4,3,"ng-container",30),e.k0s()()()()),2&t&&(e.R7$(5),e.Y8G("ngIf",o.clientMonitor&&o.clientMonitor.main),e.R7$(1),e.Y8G("ngIf",o.clientMonitor&&o.clientMonitor.main),e.R7$(1),e.Y8G("ngIf",o.clientMonitor&&!o.clientMonitor.main),e.R7$(3),e.Y8G("ngIf",o.clientMonitor&&o.clientMonitor.main),e.R7$(2),e.Y8G("ngIf",o.clientMonitor&&o.clientMonitor.sports),e.R7$(2),e.Y8G("ngIf",o.clientMonitor&&o.sportDegrees&&o.sportDegrees.length),e.R7$(4),e.JRh(e.bMT(19,25,"level_in_progress")),e.R7$(3),e.JRh(o.getLevelNameById(null==o.clientMonitor?null:o.clientMonitor.degree_sport)),e.R7$(4),e.JRh(e.bMT(26,27,"previous_level")),e.R7$(3),e.JRh(o.getPreviousLevelName()),e.R7$(3),e.JRh(e.bMT(32,29,"next_level")),e.R7$(3),e.JRh(o.getNextLevelName()),e.R7$(2),e.SpI(" ",e.bMT(37,31,"evaluate_progress")," "),e.R7$(7),e.SpI(" ",e.bMT(44,33,"observations")," "),e.R7$(3),e.Y8G("ngIf",o.currentObservation&&o.currentObservation.general),e.R7$(1),e.Y8G("ngIf",o.currentObservation&&o.currentObservation.notes),e.R7$(1),e.Y8G("ngIf",o.getEvaluationsForCurrentSport().length>0),e.R7$(2),e.JRh(e.bMT(51,35,"monitor_comments")),e.R7$(2),e.Y8G("ngIf",o.commentsLoading),e.R7$(1),e.Y8G("ngIf",!o.commentsLoading),e.R7$(6),e.SpI(" ",e.bMT(60,37,"historical")," "),e.R7$(3),e.Y8G("ngIf",o.clientMonitor&&o.clientMonitor.observations.historical),e.R7$(2),e.JRh(e.bMT(65,39,"history")),e.R7$(2),e.Y8G("ngIf",o.historyLoading),e.R7$(1),e.Y8G("ngIf",!o.historyLoading))},dependencies:[u.YU,u.Sq,u.bT,R.W9,B.t,u.vh,k.D9],styles:[".content-wrapper[_ngcontent-%COMP%]{width:100%;min-height:100%;padding:20px 16px}.content-size[_ngcontent-%COMP%]{width:100%;min-height:100%}.padding-wrapper[_ngcontent-%COMP%]{padding:20px 16px}.dark-background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background:var(--ion-back-color-dark)}.header-content[_ngcontent-%COMP%]{position:relative;top:0;left:0;width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:60px;padding-left:36px;padding-right:12px}.header-content-icon[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-50%);width:28px}.header-top-title[_ngcontent-%COMP%]{font-size:15px;color:#fff;font-weight:600;max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}.header-user-data[_ngcontent-%COMP%]{display:flex;width:100%;align-items:flex-start;gap:16px}.header-user-data-img[_ngcontent-%COMP%]{width:60px;min-width:60px;height:60px;position:relative;border-radius:60px}.header-user-data-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;border-radius:100%}.header-user-data-text[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;gap:4px}.header-user-data-text-top[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between}.header-user-data-text-top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:11px}.header-user-data-text-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px}.header-user-data-text-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:17px;color:#fff;font-weight:500}.header-user-data-text-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}.header-user-data-text-subtitle[_ngcontent-%COMP%]{font-size:13px}.header-user-data-text-icons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.icon-with-label[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center}.icon-label[_ngcontent-%COMP%]{position:absolute;right:-4px;bottom:-4px;background:#1f2937;color:#fff;font-size:9px;line-height:1;padding:2px 4px;border-radius:999px}.header-user-data-text-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:34px}.header-user-data-text-contacts[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;margin-top:4px}.header-user-data-text-contact[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:12px}.header-user-data-text-contact-label[_ngcontent-%COMP%]{color:#9aa4b2;min-width:72px}.header-user-data-text-contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e6e9ef;text-decoration:none;word-break:break-word}.box-sport[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;align-items:center;justify-content:center;padding:18px 12px;border-radius:8px}.box-sport[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px}.box-sport[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:15px;color:#fff}.box-sport[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px}.box-school[_ngcontent-%COMP%]{display:block;width:300px;min-width:300px;padding:18px 12px;border-radius:8px}.box-school-icons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.flex-title-selector[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.flex-title-selector-interior[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.flex-title-selector-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:40px;display:flex;align-items:center;justify-content:center}.flex-title-selector-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}.flex-title-selector-text[_ngcontent-%COMP%]{color:#fff;font-size:20px;font-weight:500}.flex-title-selector-arrow[_ngcontent-%COMP%]{width:24px}.box-radius[_ngcontent-%COMP%]{width:100%;border-radius:8px}.box-top[_ngcontent-%COMP%]{padding:10px 20px;border-bottom:1px solid #43494f;display:flex;width:100%;align-items:center;justify-content:space-between}.box-top-left[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.box-top-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;align-items:center;justify-content:center}.box-top-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px}.box-top-icon[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:13px}.content-button[_ngcontent-%COMP%]{width:100%;height:44px;line-height:44px;display:block;border-radius:44px;color:#000;text-align:center;font-size:14px;font-weight:500;cursor:pointer;transition:all ease-in-out .3s}.box-observations[_ngcontent-%COMP%]{padding:12px 16px}.level-meta[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:space-between;align-items:flex-start;flex-wrap:wrap}.level-current-banner[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;align-items:center;padding:12px;border-radius:12px}.level-current-clickable[_ngcontent-%COMP%]{cursor:pointer}.level-current-label[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;color:#b0b7c3}.level-current-value[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#fff;text-align:center}.level-meta-item[_ngcontent-%COMP%]{background:#2b303b;border-radius:12px;padding:8px 12px;display:flex;flex-direction:column;gap:4px;min-width:0;flex:1 1 140px}.level-meta-left[_ngcontent-%COMP%]{text-align:left}.level-meta-right[_ngcontent-%COMP%]{text-align:right}.level-cta[_ngcontent-%COMP%]{margin-top:12px}.text-observations[_ngcontent-%COMP%]{font-size:13px}.title-observations[_ngcontent-%COMP%]{font-size:15px;border-top:1px solid #444953}.mini-empty[_ngcontent-%COMP%]{font-size:12px;color:#b0b7c3;margin-top:6px}.comment-mini[_ngcontent-%COMP%]{background:#2b303b;border-radius:10px;padding:10px 12px;margin-top:8px;display:flex;flex-direction:column;gap:6px}.comment-mini-text[_ngcontent-%COMP%]{font-size:13px;color:#fff}.comment-mini-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:11px;color:#b0b7c3}.comment-mini-author[_ngcontent-%COMP%]{font-weight:600;color:#d6dde8}.history-mini[_ngcontent-%COMP%]{background:#2b303b;border-radius:10px;padding:10px 12px;margin-top:8px;display:flex;flex-direction:column;gap:6px}.history-mini-title[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#fff}.history-mini-meta[_ngcontent-%COMP%]{font-size:11px;color:#b0b7c3}.history-mini-detail[_ngcontent-%COMP%]{font-size:12px;color:#d6dde8}.mini-toggle[_ngcontent-%COMP%]{margin-top:8px;background:transparent;border:1px solid #3a414f;border-radius:10px;padding:8px 12px;color:#fff;font-size:12px}.list-box-selector-users[_ngcontent-%COMP%]{width:100%;overflow-x:auto;white-space:nowrap;display:flex;gap:16px;padding:8px 0;margin-bottom:-16px;justify-content:space-around}.box-selector-user-section[_ngcontent-%COMP%]{display:flex;white-space:normal;width:80px;min-width:80px;max-width:80px;padding:8px;flex-direction:column;gap:12px;align-items:center;border-radius:8px;justify-content:flex-start}.box-selector-user-section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#fff;font-size:14px;line-height:1.3;text-align:center}.box-selector-user-section-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px}.opacity-light[_ngcontent-%COMP%]{opacity:.6}"]}),a})()}];let Te=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[b.iI.forChild(Oe),b.iI]}),a})();var we=c(5553);let Le=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[u.MD,$.YN,R.bv,Te,we.h,k.h]}),a})()},4843:(j,D,c)=>{c.d(D,{_:()=>R});var u=c(9350),$=c(7707);function R(b,p){const P="object"==typeof p;return new Promise((m,I)=>{const E=new $.Ms({next:e=>{m(e),E.unsubscribe()},error:I,complete:()=>{P?m(p.defaultValue):I(new u.G)}});b.subscribe(E)})}}}]);